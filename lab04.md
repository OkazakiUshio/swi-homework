---
layout: default
title: 关于文本在计算机中的表示
---

# 基本思路
众所周知，不论多大的文档都是由其最基本的单位——字符组成的。由于计算机内部只有“0”“1”并以二进制运行，故我们需要想到一个方法来表达每一个字符。
# 字符集种类
我们建立一个用代码一一对应字符的清单，该清单被称为字符集。这样用计算机内的原始代码即可完美的表示每一个字符。下面是几种字符集的类型。
## ASCII字符集
![](https://gss1.bdstatic.com/9vo3dSag_xI4khGkpoWK1HF6hhy/baike/w%3D268%3Bg%3D0/sign=1b1a4726b6096b63811959563408e079/c2fdfc039245d688c56332adacc27d1ed21b2451.jpg)

ASCII是美国信息互换标准代码（American Standard Code for Information Interchange）的缩写。最初ASCII字符集用七位表示字符，可表示128个不同的字符。后来该字符集进行了进化，可以用八位表示每个字符。该拓展字符集可以表示256个字符，包括一些重点字符和几个补充的特殊符号。  
需要注意的是，每个字符都有自己的顺序，这是由存储它们的代码决定的。每个字符都有一个相对其他字符的位置，这样可以用字符代码对一些字符进行特定的排列。
## Unicode字符集
ASCII字符集的拓展版本能表示256个字符，这虽然足够表达英语，但无法满足国际上各种语言符号的需求。因此，我们需要能表达更多字符的字符集。在这种情况下，Unicode字符集诞生了。  
Unicode志在表达世界上所有语言的所有字符，甚至补充的专用符号，如科学符号。为此，Unicode使用16位二进制来表示每个字符，总共能表示6万多个字符，从而基本满足了大家的需求。要指出的是，Unicode字符集仍在不断发展中，并非所有可用代码都被赋予了特定的字符。  
为了保持一致（能和ASCII兼容），Unicode被设计成ASCII字符集的超集，即对于前二百五十六位字符，两种字符集是完全一致的（包括代码）。这样，即使某些底层系统采用Unicode字符集，采用ASCII值的程序也不会受影响。
![](https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1539714609441&di=b542a409dca46277c4326ee4b3e622c3&imgtype=0&src=http%3A%2F%2Fimage.codes51.com%2FArticle%2Fimage%2F20160528%2F20160528151453_9026.jpg)
##  UFT-8字符集
前文提到，Unicode并非“彻底满足了人们的需求”，如对一些或古老或生僻的语言如Braille（盲文）Mongolian（蒙古语），Unicode均不支持。此外，Unicode还有着以下问题。  
第一个问题是，如何才能区别Unicode和ASCII？计算机怎么知道三个字节表示一个符号，而不是分别表示三个符号呢？  
第二个问题是，我们已经知道，英文字母只用一个字节表示就够了，如果Unicode统一规定，每个符号用三个或四个字节表示，那么每个英文字母前都必然有二到三个字节是0，这对于存储来说是极大的浪费，文本文件的大小会因此大出二三倍，这是无法接受的。  
为了解决这个问题，就出现了一些中间格式的字符集，他们被称为通用转换格式，即UTF（Unicode Transformation Format）。其中UTF-8就是在互联网上使用最广的一种Unicode的实现方式。   
UTF-8最大的一个特点，就是它是一种变长的编码方式。它可以使用1~4个字节表示一个符号，根据不同的符号而变化字节长度。  
这样带来的优点是明显的。除了最直白的UTF-8可以简化表达形式，从而减小文件打小，加快运行速度外。UTF-8编码还可以通过屏蔽位和移位操作快速读写。字符串比较时strcmp()和wcscmp()的返回结果相同，因此使排序变得更加容易。字节FF和FE在UTF-8编码中永远不会出现，因此他们可以用来表明UTF-16或UTF-32文本。 UTF-8 是字节顺序无关的。它的字节顺序在所有系统中都是一样的，因此它实际上并不需要BOM。  
尽管这种字符集的使用也会带来一些问题，甚至进而不得不让人们加入新的规则格式（如UTF-7·5）用以解决各种繁琐奇怪的问题。但总的来说，UTF-8还是多利少弊的。
# 关于文本压缩
我们知道，一个计算机的空间不可能是无限大的，而为了在有限的空间内能够表达尽量多的字符，故我们需要文本压缩来减小文件大小。
在实际应用中，采用关键字，行程长度，赫夫曼这三种编码方式最常用。碍于主题限制，这点不在这里详细展开。
# 总结
经历了几代的发展，现在文本字符在计算机中的表示已相对成熟，但还存在着一些问题。相信随着技术进一步发展，这些问题都会得到解决，而文本在计算机中的表示也会越来越趋于完美。